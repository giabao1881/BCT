<!doctype html><html lang="vi"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Admin Links</title>
<style>
  :root{--bg:#0b1220;--surface:#0f172a;--text:#e6edf3;--muted:#9fb0c2;--border:#1f2937;--radius:16px}
  body{margin:0;background:var(--bg);color:var(--text);font:15px/1.6 system-ui,Segoe UI,Inter,Roboto,Arial}
  .wrap{width:min(900px,94vw);margin:22px auto}
  .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:16px}
  label{font-weight:700;font-size:12px;color:var(--muted)} input,select,textarea{width:100%;padding:10px;border:1px solid var(--border);border-radius:12px;background:#0b1220;color:var(--text)}
  textarea{min-height:90px} .row{display:grid;grid-template-columns:1fr 1fr;gap:10px} .btns{display:flex;gap:10px;margin-top:12px}
  button{border:1px solid var(--border);background:#101a31;color:var(--text);padding:10px 14px;border-radius:12px;font-weight:800;cursor:pointer}
  .item{display:grid;grid-template-columns:28px 1fr auto;gap:10px;align-items:center;padding:10px;border:1px dashed var(--border);border-radius:12px;margin-bottom:10px}
  .badge{width:28px;height:28px;border-radius:9px;display:grid;place-items:center;font-weight:900;background:#1e293b}
</style></head><body>
<div class="wrap">
  <div class="card" id="gate">
    <b>Enter password</b>
    <input id="pw" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="margin-top:8px">
    <div class="btns"><button onclick="unlock()">Unlock</button></div>
    <div id="err" style="color:#fca5a5;margin-top:8px"></div>
  </div>

  <div class="card" id="app" style="display:none">
    <h2>Admin ‚Ä¢ Th√™m m·ª•c/link/ghi ch√∫</h2>
    <div class="row">
      <div><label>Ti√™u ƒë·ªÅ</label><input id="title"></div>
      <div><label>Nh√£n n√∫t</label><input id="buttonText" placeholder="üìÑ M·ªü file"></div>
    </div>
    <div class="row">
      <div><label>Li√™n k·∫øt (URL)</label><input id="href" placeholder="https://..."></div>
      <div><label>M√†u (blue/green/amber/violet)</label><input id="color" placeholder="blue"></div>
    </div>
    <div><label>Ghi ch√∫</label><textarea id="note"></textarea></div>
    <div class="btns">
      <button onclick="addItem()">‚ûï Th√™m</button>
      <button onclick="exportJson()">‚¨áÔ∏è Xu·∫•t JSON</button>
      <button onclick="importJson()">‚¨ÜÔ∏è Nh·∫≠p JSON</button>
      <input id="file" type="file" accept="application/json" style="display:none">
    </div>
  </div>

  <div class="card" id="list" style="display:none"></div>
</div>
<script>
  const PASSWORD = 'Bao@2025'; // ƒë·ªïi chu·ªói n√†y
  const LS = 'links_admin_draft';
  let items = JSON.parse(localStorage.getItem(LS) || '[]');

  function unlock(){
    const ok = document.getElementById('pw').value === PASSWORD;
    if(!ok){ document.getElementById('err').textContent='Sai m·∫≠t kh·∫©u'; return; }
    document.getElementById('gate').style.display='none';
    document.getElementById('app').style.display='block';
    document.getElementById('list').style.display='block';
    render();
  }

  function addItem(){
    const g = id => document.getElementById(id).value.trim();
    const it = { id: crypto.randomUUID(), title:g('title'), buttonText:g('buttonText')||'M·ªü', href:g('href'), note:g('note'), color:g('color')||'blue' };
    if(!it.title || !it.href){ alert('Nh·∫≠p Ti√™u ƒë·ªÅ & URL'); return; }
    items.push(it); persist(); render();
    ['title','buttonText','href','note','color'].forEach(x=>document.getElementById(x).value='');
  }
  function persist(){ localStorage.setItem(LS, JSON.stringify(items)); }
  function del(id){ items = items.filter(x=>x.id!==id); persist(); render(); }
  function up(id){ const i=items.findIndex(x=>x.id===id); if(i>0){ [items[i-1],items[i]]=[items[i],items[i-1]]; persist(); render(); } }
  function dn(id){ const i=items.findIndex(x=>x.id===id); if(i<items.length-1){ [items[i+1],items[i]]=[items[i],items[i+1]]; persist(); render(); } }
  function edit(id){
    const x = items.find(v=>v.id===id); if(!x) return;
    const p = (k,v)=>{ const r = prompt(k, v??''); return r===null? v : r; };
    x.title=p('Ti√™u ƒë·ªÅ',x.title); x.buttonText=p('Nh√£n n√∫t',x.buttonText); x.href=p('URL',x.href);
    x.note=p('Ghi ch√∫',x.note||''); x.color=p('M√†u',x.color||'blue'); persist(); render();
  }
  function render(){
    const esc=s=>String(s).replace(/[&<>\"']/g,m=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"}[m]));
    const box = document.getElementById('list');
    if(items.length===0){ box.innerHTML='<em>Danh s√°ch tr·ªëng</em>'; return; }
    box.innerHTML = items.map((x,i)=>`
      <div class="item">
        <div class="badge">${i+1}</div>
        <div>
          <div style="font-weight:900">${esc(x.title)}</div>
          <div style="color:#94a3b8;font-size:12px">${esc(x.href)}</div>
          ${x.note? `<div style="margin-top:6px">${esc(x.note)}</div>`:''}
        </div>
        <div style="display:flex;gap:6px">
          <button onclick="up('${x.id}')">‚¨ÜÔ∏è</button>
          <button onclick="dn('${x.id}')">‚¨áÔ∏è</button>
          <button onclick="edit('${x.id}')">‚úèÔ∏è</button>
          <button onclick="del('${x.id}')">üóëÔ∏è</button>
        </div>
      </div>`).join('');
  }
  function exportJson(){
    const blob = new Blob([JSON.stringify({version:1, updatedAt:new Date().toISOString(), items}, null, 2)],{type:'application/json'});
    const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='links.json'; a.click(); URL.revokeObjectURL(a.href);
  }
  function importJson(){ document.getElementById('file').click(); }
  document.getElementById('file').addEventListener('change', async e=>{
    const f=e.target.files[0]; if(!f) return; try{ const obj=JSON.parse(await f.text()); items=obj.items||[]; persist(); render(); alert('ƒê√£ nh·∫≠p'); }catch{ alert('File kh√¥ng h·ª£p l·ªá'); }
    e.target.value='';
  });
</script>
</body></html>
